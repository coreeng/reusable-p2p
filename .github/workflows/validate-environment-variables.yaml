name: validate env variables

on:
  workflow_call:
    inputs:
      environment:
        required: true
        type: string

jobs:
  validate-environment:
    name: validate-environmental-vars
    runs-on: ubuntu-latest
    steps:
      - name: start
        run: |
          echo "Validating input"
      - name: validate required environment
        if: inputs.environment == '' 
        run: |
          echo "Defined environment seems to be empty. Please check if the defined environment variable exists"
          exit 1
      - name: validate required fields
        if: vars.BASE_DOMAIN  == '' || vars.PROJECT_ID == '' || vars.DPLATFORM == '' || vars.PROJECT_NUMBER == ''
        run: |
          echo "Some required fields are missing, please validate your environment and repository variables."
          exit 1
